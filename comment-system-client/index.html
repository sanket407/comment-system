<!DOCTYPE html>
<html ng-app="CommentApp">

  <head>
    <meta charset="utf-8">
    <title>Comment-App</title>

    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <script type="text/javascript" src="/js/vendor/jquery-3.3.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script type="text/javascript" src="/js/vendor/bootstrap.min.js"></script>
    <script type="text/javascript" src="/js/vendor/angular.min.js"></script>
    <script type="text/javascript" src="/js/vendor/angular-route.min.js"></script>


    <script type="text/javascript" src="/js/app.js"></script>
    <script type="text/javascript" src="/js/routes.js"></script>

    <script type="text/javascript" src="/js/controllers/comment-controller.js"></script>
    <script type="text/javascript" src="/js/controllers/login-controller.js"></script>
    <script type="text/javascript" src="/js/controllers/register-controller.js"></script>

    <script type="text/javascript" src="/js/services/comment-service.js"></script>
    <script type="text/javascript" src="/js/services/user-service.js"></script>

    <script type="text/javascript" src="/js/directives/comment-renderer.js"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>

  </head>

  <body>
    <nav class="navbar navbar-default">
        <div class="container-fluid">
          <div class="navbar-header">
            <a class="navbar-brand" href="#">Comment App</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse"  ng-controller="LoginController as ctrl">
            <ul class="nav navbar-nav">
              <li class="active"><a href="#">Home</a></li>
              <li ng-show="UserService.currentUser.isGuest"> <a href="#!/register">Register</a></li>
            </ul>

            <div class="navbar-center" ng-show="ctrl.err.length">
              <span>  <p class="navbar-text">&emsp; &emsp; &emsp;&emsp;&emsp;&emsp;&emsp;&ensp;&nbsp;
                &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;
                <font color="red" >{{ctrl.err}}</font></p></span>
            </div>


            <div class="login-form navbar-right" ng-show="UserService.currentUser.isGuest">

              <form class="navbar-form" name="ctrl.loginForm" ng-submit="ctrl.login()">
                <div class="form-group">
                  <input type="text" class="form-control" placeholder="Username" ng-model="ctrl.username" required>
                  <input type="text" class="form-control" placeholder="Password" ng-model="ctrl.password" required>
                </div>
                <button type="submit" class="btn btn-default">Login</button>
              </form>
            </div>

            <div class="logout-form navbar-right" ng-show="!UserService.currentUser.isGuest">
              <p class="navbar-text">Welcome {{UserService.currentUser.username}}</p>
              <form class="navbar-form navbar-right" ng-submit="ctrl.logout()">
                <button type="submit" class="btn btn-default">Logout</button>
              </form>
            </div>


          </div>
        </div>
      </nav>

      <div class="container-fluid content">
            <div ng-view> </div>
        </div>

  </body>
</html>
